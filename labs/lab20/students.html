<html>
<head>
	<meta charset="utf-8">
	<title>Студенты</title>
	<script for="window" event="onload">
		display_students("все");
	</script>
</head>
<body>
	<xml id="dso-students" src="students.xml"></xml>
	<h2>Хобби студентов</h2>
	<p>Хобби: <select id="find-hobby" onchange="find_hobby()">
		<option value="все">Все</option>
		<option value="баскетбол">Баскетбол</option>
		<option value="танцы">Танцы</option>
	</select></p>
	<div id="display"></div>

	<script>
		function display_students(hobby){
			var HTMLCode = "";
			var Document = document.getElementById("dso-students");
			var count = Document.documentElement.childNodes.length;
			for (i=0; i<count; i++){
				var NamedNodeMap = Document.documentElement.childNodes(i).attributes;
				var currentHobby = NamedNodeMap(0).nodeValue;
				if ((hobby == currentHobby) || (hobby == "все")) {
					HTMLCode +=
					"<tr><td>" + Document.documentElement.childNodes(i).childNodes(0).text + "</td><td>" +
					Document.documentElement.childNodes(i).childNodes(1).text + "</td><td>" +
					Document.documentElement.childNodes(i).childNodes(2).text + "</td><td>" +
					Document.documentElement.childNodes(i).childNodes(3).text + "</td><td>" +
					Document.documentElement.childNodes(i).childNodes(4).text + "</td><td>" +
					currentHobby + "</td></tr>";
				}
			}
			var header = "<table border=\"1\"><tr><th>Фамилия</th><th>Имя</th><th>Отчество</th>" +
				"<th>Дата рождения</th><th>Адрес</th><th>Хобби</th></tr>";
			document.getElementById("display").innerHTML = header + HTMLCode + "</table>";
		}

		function find_hobby(){
			var sel = document.getElementById("find-hobby");
			var hobby = sel.options[sel.selectedIndex].value;
			display_students(hobby);
		}
	</script>
</body>
</html>